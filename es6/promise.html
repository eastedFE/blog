<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Promise</title>
</head>
<body>
	<script type="text/javascript">
		window.onload = function(){
			//1.基本使用
			var promise = new Promise(function(resolve,reject){
				if(true){
					resolve('data');
				}else{
					reject('error');
				}
			})
			.then(function(data){
				console.log(data);
			})
			.catch(function(error){
				console.log(error);
			});
			//懒加载图片、滚动加载图片(瀑布流布局)
			function loadImageAsync(url) {
			  return new Promise(function(resolve, reject) {
			    var image = new Image();

			    image.onload = function() {
			      resolve(image);
			    };
			    image.onerror = function() {
			      reject(new Error('Could not load image at ' + url));
			    };
			    image.src = url;
			  });
			}


		}
	</script>
</body>
</html>